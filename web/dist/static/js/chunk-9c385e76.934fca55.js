(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c385e76"],{"934d":function(e,t,r){},b562:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"f",(function(){return u}));var a=r("b775");function i(e){return Object(a["a"])({url:"/application/list",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/application/detail/"+e.id,method:"get"})}function n(e){return Object(a["a"])({url:"/application/stat/"+e.id,method:"get"})}function o(e){return Object(a["a"])({url:"/application/delete/"+e.id,method:"delete"})}function l(e){return Object(a["a"])({url:"/application/add/http",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/application/update/"+e.ID,method:"put",data:e})}},db74:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mixin-components-container"},[r("el-row",[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[!1===e.is_edit?r("span",[e._v("创建应用")]):e._e(),!0===e.is_edit?r("span",[e._v("修改应用")]):e._e()]),r("div",[r("el-form-item",{staticClass:"is-required",attrs:{label:"appID",prop:"appID"}},[r("el-input",{attrs:{disabled:!0===e.is_edit,placeholder:"6-128位字母数字下划线"},model:{value:e.form.appID,callback:function(t){e.$set(e.form,"appID",t)},expression:"form.appID"}})],1),r("el-form-item",{staticClass:"is-required",attrs:{label:"应用名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"最多255字符，必填"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"32位密钥",prop:"secret"}},[r("el-input",{attrs:{placeholder:"32位字符串，非必填，自动生成"},model:{value:e.form.secret,callback:function(t){e.$set(e.form,"secret",t)},expression:"form.secret"}})],1),r("el-form-item",{attrs:{label:"QPS限流",prop:"qps"}},[r("el-input",{attrs:{placeholder:"0表示无限制"},model:{value:e.form.qps,callback:function(t){e.$set(e.form,"qps",t)},expression:"form.qps"}})],1),r("el-form-item",{attrs:{label:"日请求量限流",prop:"qpd"}},[r("el-input",{attrs:{placeholder:"0表示无限制"},model:{value:e.form.qpd,callback:function(t){e.$set(e.form,"qpd",t)},expression:"form.qpd"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.disableButton},on:{click:e.onSubmit}},[e._v(" 立即提交 ")])],1)],1)])],1)],1)],1)},i=[],s=(r("a9e3"),r("b562")),n={components:{},data:function(){return{is_edit:!1,disableButton:!1,form:{id:"0",app_id:"",name:"",secret:"",white_ips:"",qpd:"",qps:""},rules:{appID:[{required:!0,message:"请输入 app_id",trigger:"blur"},{min:6,max:128,message:"长度在 6 到 128 个字符之间",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]+$/,message:"只能包含字母、数字和下划线",trigger:"blur"}],name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{max:255,message:"最多255个字符",trigger:"blur"}],secret:[{required:!1},{pattern:/^[a-zA-Z0-9]{32}$/,message:"必须是32位字符串",trigger:"blur"}],qps:[{required:!1},{pattern:/^[0-9]*$/,message:"请输入非负整数",trigger:"blur"}],qpd:[{required:!1},{pattern:/^[0-9]*$/,message:"请输入非负整数",trigger:"blur"}]}}},created:function(){var e=this.$route.params&&this.$route.params.id;e>0&&(this.is_edit=!0,this.fetchData(e)),this.tempRoute=Object.assign({},this.$route)},methods:{fetchData:function(e){var t=this;this.listLoading=!0;var r={id:e};Object(s["c"])(r).then((function(e){t.form=e.data,t.listLoading=!1}))},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.disableButton=!0;var r=Object.assign({},e.form);r.app_id=r.appID,r.id=Number(r.id),r.qpd=Number(r.qpd),r.qps=Number(r.qps),e.is_edit?Object(s["f"])(r).then((function(){e.disableButton=!1,e.$notify({title:"Success",message:"更新成功",type:"success",duration:500})}),(function(){e.disableButton=!1})):Object(s["a"])(r).then((function(){e.disableButton=!1,e.$notify({title:"Success",message:"添加成功",type:"success",duration:500})}),(function(){e.disableButton=!1}))}else e.$message.error("请正确填写信息")}))}}},o=n,l=(r("e392"),r("2877")),u=Object(l["a"])(o,a,i,!1,null,"630572e0",null);t["default"]=u.exports},e392:function(e,t,r){"use strict";r("934d")}}]);